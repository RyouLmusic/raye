# Raya CLI

Raya CLI æ˜¯ä¸€ä¸ªå…¨å±€å‘½ä»¤è¡Œå·¥å…·,å…è®¸ç”¨æˆ·åœ¨ä»»ä½•ç›®å½•é€šè¿‡ `raya` å‘½ä»¤å¯åŠ¨ Raya AI Agentã€‚

## é¡¹ç›®çŠ¶æ€

ğŸš§ **å¼€å‘ä¸­** - å½“å‰æ­£åœ¨å®ç°æ ¸å¿ƒåŠŸèƒ½

## é¡¹ç›®ç»“æ„

```
packges/cli/
â”œâ”€â”€ src/                    # æºä»£ç 
â”‚   â”œâ”€â”€ index.ts           # å…¥å£æ–‡ä»¶ï¼ˆå¸¦ shebangï¼‰
â”‚   â”œâ”€â”€ commands/          # å‘½ä»¤å®ç°
â”‚   â”‚   â”œâ”€â”€ start.ts       # å¯åŠ¨å‘½ä»¤ï¼ˆè°ƒç”¨ UI çš„ startTUIï¼‰
â”‚   â”‚   â”œâ”€â”€ init.ts        # åˆå§‹åŒ–å‘½ä»¤
â”‚   â”‚   â””â”€â”€ config.ts      # é…ç½®ç®¡ç†å‘½ä»¤
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ config.ts      # é…ç½®åŠ è½½å’ŒæŸ¥æ‰¾
â”‚   â”‚   â”œâ”€â”€ workdir.ts     # å·¥ä½œç›®å½•ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ env.ts         # ç¯å¢ƒå˜é‡å¤„ç†
â”‚   â”‚   â”œâ”€â”€ logger.ts      # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ validate.ts    # é…ç½®éªŒè¯
â”‚   â”‚   â”œâ”€â”€ editor.ts      # ç¼–è¾‘å™¨é›†æˆ
â”‚   â”‚   â””â”€â”€ session.ts     # ä¼šè¯ç®¡ç†
â”‚   â”œâ”€â”€ templates/         # é…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ index.ts       # æ¨¡æ¿å¯¼å‡º
â”‚   â”‚   â”œâ”€â”€ openai.ts      # OpenAI æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ anthropic.ts   # Anthropic æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ azure.ts       # Azure æ¨¡æ¿
â”‚   â””â”€â”€ types/             # ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ index.ts       # ç±»å‹å¯¼å‡º
â”‚       â”œâ”€â”€ config.ts      # é…ç½®ç±»å‹
â”‚       â””â”€â”€ error.ts       # é”™è¯¯ç±»å‹
â”œâ”€â”€ test/                  # æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ unit/             # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ property/         # å±æ€§æµ‹è¯•
â”‚   â”œâ”€â”€ integration/      # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ e2e/              # ç«¯åˆ°ç«¯æµ‹è¯•
â”œâ”€â”€ docs/                  # æ–‡æ¡£
â”œâ”€â”€ dist/                  # æ„å»ºè¾“å‡ºï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ package.json          # åŒ…é…ç½®ï¼ˆå·²é…ç½® bin å­—æ®µï¼‰
â”œâ”€â”€ tsconfig.json         # TypeScript é…ç½®
â””â”€â”€ .gitignore            # Git å¿½ç•¥æ–‡ä»¶
```

## æ¶æ„è¯´æ˜

### åŒ…ä¾èµ–å…³ç³»

```
CLI Package (packges/cli)
  â”œâ”€â”€ ä¾èµ– UI Package (packges/ui)
  â”‚   â””â”€â”€ å¯¼å…¥ startTUI() å’Œ AgentConfig ç±»å‹
  â”œâ”€â”€ ä¾èµ– Core Package (packges/core)
  â”‚   â””â”€â”€ å¯¼å…¥ AgentConfig ç±»å‹ï¼ˆé€šè¿‡ UI åŒ…ï¼‰
  â””â”€â”€ ä¾èµ– Common Package (packges/common)
      â””â”€â”€ ä½¿ç”¨å…±äº«å·¥å…·å‡½æ•°
```

### èŒè´£åˆ’åˆ†

**CLI åŒ…è´Ÿè´£**ï¼š
- âœ… å‘½ä»¤è¡Œå‚æ•°è§£æï¼ˆCommander.jsï¼‰
- âœ… é…ç½®æ–‡ä»¶æŸ¥æ‰¾å’ŒåŠ è½½ï¼ˆ`.raya/config.json`ï¼‰
- âœ… ç¯å¢ƒå˜é‡æ›¿æ¢å’ŒéªŒè¯
- âœ… äº¤äº’å¼é…ç½®åˆå§‹åŒ–
- âœ… é…ç½®ç®¡ç†å‘½ä»¤
- âœ… è°ƒç”¨ `startTUI()` å¯åŠ¨ç•Œé¢

**CLI åŒ…ä¸è´Ÿè´£**ï¼š
- âŒ TUI ç•Œé¢æ¸²æŸ“ï¼ˆUI åŒ…è´Ÿè´£ï¼‰
- âŒ Agent æ ¸å¿ƒé€»è¾‘ï¼ˆCore åŒ…è´Ÿè´£ï¼‰
- âŒ å·¥å…·è°ƒç”¨ï¼ˆCore åŒ…è´Ÿè´£ï¼‰

## å¼€å‘

### å®‰è£…ä¾èµ–

```bash
bun install
```

### å¼€å‘æ¨¡å¼

```bash
bun run dev
```

### æ„å»º

```bash
bun run build
```

### æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
bun test

# è¿è¡Œå•å…ƒæµ‹è¯•
bun run test:unit

# è¿è¡Œå±æ€§æµ‹è¯•
bun run test:property

# è¿è¡Œé›†æˆæµ‹è¯•
bun run test:integration
```

### ç±»å‹æ£€æŸ¥

```bash
bun run lint
```

## ä¾èµ–

### æ ¸å¿ƒä¾èµ–
- **commander**: å‘½ä»¤è¡Œå‚æ•°è§£æ
- **inquirer**: äº¤äº’å¼å‘½ä»¤è¡Œæç¤º
- **chalk**: ç»ˆç«¯é¢œè‰²è¾“å‡º
- **ora**: åŠ è½½åŠ¨ç”»

### å¼€å‘ä¾èµ–
- **@types/bun**: Bun ç±»å‹å®šä¹‰
- **@types/inquirer**: Inquirer ç±»å‹å®šä¹‰
- **fast-check**: åŸºäºå±æ€§çš„æµ‹è¯•åº“
- **typescript**: TypeScript ç¼–è¯‘å™¨

## é…ç½®

### package.json
- âœ… é…ç½®äº† `bin` å­—æ®µæŒ‡å‘ `./dist/index.js`
- âœ… å£°æ˜äº†æ‰€æœ‰ç›´æ¥ä¾èµ–ï¼ˆcommander, inquirer, chalk, oraï¼‰
- âœ… é…ç½®äº†æ„å»ºå’Œæµ‹è¯•è„šæœ¬

### tsconfig.json
- âœ… é…ç½®äº† TypeScript ç¼–è¯‘é€‰é¡¹
- âœ… è®¾ç½®äº†è¾“å‡ºç›®å½•ä¸º `dist/`
- âœ… å¯ç”¨äº†ä¸¥æ ¼æ¨¡å¼å’Œç±»å‹æ£€æŸ¥

### å…¥å£æ–‡ä»¶
- âœ… `src/index.ts` åŒ…å« shebang `#!/usr/bin/env bun`
- âœ… å°†åœ¨åç»­ä»»åŠ¡ä¸­å®ç°å®Œæ•´çš„ CLI åŠŸèƒ½

## ä¸‹ä¸€æ­¥

æ ¹æ®ä»»åŠ¡åˆ—è¡¨ï¼Œæ¥ä¸‹æ¥å°†å®ç°ï¼š
1. ç±»å‹å®šä¹‰ï¼ˆTask 2ï¼‰
2. å·¥å…·å‡½æ•°ï¼ˆTask 3ï¼‰
3. å¯åŠ¨å‘½ä»¤ï¼ˆTask 4ï¼‰
4. å®Œæ•´çš„ CLI å…¥å£ï¼ˆTask 5ï¼‰

## è®¸å¯è¯

Private - å†…éƒ¨é¡¹ç›®

